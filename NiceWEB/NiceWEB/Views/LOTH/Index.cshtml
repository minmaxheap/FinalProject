@model IEnumerable<NiceWEB.Models.LOT_HIS>
@using NiceWEB.Html
@using NiceWEB.Models

@{
	ViewBag.Title = "Index";
	Layout = "~/Views/_Layout.cshtml";
}

<div style="display:none;" class="row">
	<div class="form-group">

	</div>
</div>

<!-- Content Header (Page header) -->
<div class="content-header">
	<div class="container-fluid">
		<div class="row mb-2">
			<div class="col-sm-6">
				<h1 class="m-0">LOT 이력 </h1>
			</div><!-- /.col -->
			<div class="col-sm-6">
			
			</div><!-- /.col -->
		</div><!-- /.row -->
	</div><!-- /.container-fluid -->
</div>
<!-- /.content-header -->
<hr />
<div class="content">
	<div class="container-fluid">
		<div class="col-12">
			@using (Html.BeginForm("Index", "LOTH", FormMethod.Post, new { @id = "form6" }))
            {
				<div class="row">
					<div class="col-4">
						<div class="form-group input-group">
							<label for="LotID" class="col-form-label">LOT ID:&nbsp;</label>
							@Html.TextBox("LotID", null, null, new { @class = "form-control" })
						</div>
					</div>
					<div class="col-1">
						<div class="form-group">
							<button type="submit" class="btn btn-block btn-secondary">조회</button>
						</div>
					</div>
				</div>
			}
		</div>
		<div class="row">
			<div class="col-12">
				<div class="card">
					<div class="card-header">
						<h3 class="card-title">LOT 이력 조회</h3>
					</div>
					<div class="card-body table-responsive p-0" style="height: 500px;">
						<table class="table table-striped table-bordered table-hover table-head-fixed">
							<thead>
								<tr>
									<th>처리시간</th>
									<th>순번</th>
									<th>트랜코드</th>
									<th>설명란</th>
									<th>품번</th>
									<th>공정</th>
									<th>창고</th>
									<th>LOT_QTY</th>
									<th>CREATE_QTY</th>
									<th>OPER_IN_QTY</th>
									@*<th>START_Flag</th>
									<th>START_QTY</th>
									<th>시작시간</th>
									<th>설비</th>
									<th>END_FLAG</th>
									<th>END_TIME</th>
									<th>설비끝</th>
									<th>쉽플래그</th>
									<th>쉽코드</th>
									<th>쉽타임</th>*@
									@*<th>프로덕션타임</th>
		<th>생성시간</th>
		<th>공정시간</th>
		<th>WORK_ORDER_ID</th>
		<th>LOT_DELETE_FLAG</th>
		<th>LOT_DELETE_TIME</th>
		<th>TRAN_USER_ID</th>
		<th>TRAN_COMMENT</th>
		<th>OLD_PRODUCT_CODE</th>
		<th>OLD_OPERATION_CODE</th>
		<th>OLD_STORE_CODE</th>
		<th>OLD_LOT_QTY</th>
		<th>OLD_LOT_QTY</th>*@
								</tr>
							</thead>
							<tbody>

								@if (Model != null)
								{
									foreach (var p in Model)
									{
										<tr data-widget="expandable-table" aria-expanded="false">
											<td>@p.TRAN_TIME</td>
											<td>@p.HIST_SEQ</td>
											<td>@p.TRAN_CODE</td>
											<td>@p.LOT_DESC</td>
											<td>@p.PRODUCT_CODE</td>
											<td>@p.OPERATION_CODE</td>
											<td>@p.STORE_CODE</td>
											<td>@p.LOT_QTY</td>
											<td>@p.CREATE_QTY</td>
											<td>@p.OPER_IN_QTY</td>
										</tr>

										<tr class="expandable-body">
											<td colspan="10">
												<p>
											@p.START_FLAG
											@p.START_QTY
											@p.START_TIME
											@p.START_EQUIPMENT_CODE
											@p.END_FLAG
											@p.END_TIME
											@p.END_EQUIPMENT_CODE
											@p.SHIP_FLAG
											@p.SHIP_CODE
											@p.SHIP_TIME
											@p.PRODUCTION_TIME
											@p.CREATE_TIME      
											@p.OPER_IN_TIME     
											@p.WORK_ORDER_ID    
											@p.LOT_DELETE_FLAG  
											@p.LOT_DELETE_CODE  
											@p.LOT_DELETE_TIME  
											@p.TRAN_USER_ID     
											@p.TRAN_COMMENT     
											@p.OLD_PRODUCT_CODE 
											@p.OLD_OPERATION_CODE
											@p.OLD_STORE_CODE   
											@p.OLD_LOT_QTY      				
												
												</p>
											</td>
										</tr>

											}
										}
								</tbody>
						</table>
					</div>

					<!-- /.card-body -->
					<nav aria-label="Page navigation example">
						<ul class="pagination justify-content-center">
							@Html.PageLinks((PagingInfo)ViewBag.PagingInfo, (x) => Url.Action("Index",
								new { page = x, LotID = ViewBag.LotID }))
						</ul>
					</nav>
				</div>
				<!-- /.card -->
			</div>
			<!-- /.col -->
		</div>
	</div>
 </div>


